<!--
 * Asterisk-GUI	-	an Asterisk configuration interface
 *
 * Manage settings in zapata.conf
 *
 * Copyright (C) 2006-2007, Digium, Inc.
 *
 * Mark Spencer <markster@digium.com>
 * Pari Nannapaneni <pari@digium.com>
 *
 * See http://www.asterisk.org for more information about
 * the Asterisk project. Please do not directly contact
 * any of the maintainers of this project for assistance;
 * the project provides a web site, mailing lists and IRC
 * channels for your use.
 *
 * This program is free software, distributed under the terms of
 * the GNU General Public License Version 2. See the LICENSE file
 * at the top of the source tree.
 *
-->
<script src="scripts/prototype.js"></script>
<script src="scripts/astman.js"></script>
<link href="stylesheets/schwing.css" media="all" rel="Stylesheet" type="text/css" />
<script>
var phonecallbacks = new Object;
var widgets = { };
var fieldnames = ['accountcode' ,'adsi' ,'amaflags' ,'answeronpolarityswitch' ,'busycount' ,'busydetect' ,'busypattern' ,'cadence' ,'callerid' ,'callgroup' ,'callprogress' ,'callreturn' ,'callwaiting' ,'callwaitingcallerid' ,'cancallforward' ,'cancel' ,'canpark' ,'cidsignalling' ,'cidstart' ,'context' ,'debounce' ,'defaultcic' ,'defaultozz' ,'distinctiveringaftercid' ,'echocancel' ,'echocancelwhenbridged' ,'echotraining' ,'facilityenable' ,'faxdetect' ,'flash' ,'group' ,'hanguponpolarityswitch' ,'hidecallerid' ,'idledial' ,'idleext' ,'immediate' ,'internationalprefix' ,'jbenable' ,'jbimpl' ,'jblog' ,'jbmaxsize' ,'jbresyncthreshold' ,'jitterbuffers' ,'language' ,'localprefix' ,'minidle' ,'minunused' ,'mohinterpret' ,'mohsuggest' ,'nationalprefix' ,'nsf' ,'outsignalling' ,'overlapdial' ,'pickupgroup' ,'preflash' ,'prewink' ,'pridialplan' ,'priexclusive' ,'priindication' ,'prilocaldialplan' ,'pritimer' ,'privateprefix' ,'progzone' ,'pulsedial' ,'relaxdtmf' ,'resetinterval' ,'restrictcid' ,'ringtimeout' ,'rxflash' ,'rxgain' ,'rxwink' ,'save' ,'sendcalleridafter' ,'signalling' ,'smdiport' ,'start' ,'switchtype' ,'threewaycalling' ,'toneduration' ,'transfer' ,'transfertobusy' ,'txgain' ,'unknownprefix' ,'usecallerid' ,'usecallingpres' ,'usedistinctiveringdetection' ,'usesmdi' ,'wink'] ;

phonecallbacks.format = function(t) {
	tmp = t.name.split('channels');
	if(tmp.length>1){  return t.name; } else{ return false; }
}

phonecallbacks.postselect = function(box, val) {

}

phonecallbacks.loaded = function() {
	_$('hiddenfield').selectitem(0);
	parent.loadscreen(this);
}

function localajaxinit(){
	setWindowTitle("Zap Settings");
	for (var x =0; x< fieldnames.length; x++) {
		widgets[fieldnames[x]] = _$(fieldnames[x]);
		widgets[fieldnames[x]].disabled = true;
	}
	parent.astmanEngine.config2list("zapata.conf", _$('hiddenfield'), widgets, phonecallbacks);
	return;
}

</script>
<body id="foo" onload="localajaxinit()"  bgcolor="EFEFEF">
<div class="mainscreenTitleBar">
	<span style="margin-left: 4px;font-weight:bold">Configure the Zap channel</span>
</div>

<div class="mainscreenContentBox" id="userscontent">
<table class="mainscreenTable" align="center">
<tr><td height=18></td></tr>
<tr valign="top">
<td>
	<div  style="height :385px;width=400px; overflow :auto;">
		<table align="center" cellspacing=0 cellpadding=2 width=350>
		<tr><td align=right>language:</td>
				<td>&nbsp;<input type='text' size=4 id='language' dfalt='en'></td>
		</tr>
		<tr><td align=right>Context:</td>
				<td>&nbsp;<input type='text' size=4 id='context' dfalt='default'></td>
		</tr>

		<tr><td align=right>switchtype:</td>
			<td>
			<select id="switchtype">
				<option value="national">National ISDN 2</option>
				<option value="dms100">Nortel DMS100</option>
				<option value="4ess">AT&T 4ESS</option>
				<option value="5ess">Lucent 5ESS</option>
				<option value="euroisdn">EuroISDN</option>
				<option value="ni1">Old National ISDN 1</option>
				<option value="qsig">Q.SIG</option>
			</select>
			</td>
		</tr>
		<tr><td align=right>nsf:</td>
			<td>
			<select id="nsf">
				<option value="none">none</option>
				<option value="sdn">sdn</option>
				<option value="megacom">megacom</option>
				<option value="tollfreemegacom">tollfreemegacom</option>
				<option value="accunet">accunet</option>
			</select>
			</td>
		</tr>
		<tr><td align=right>pridialplan:</td>
			<td>
			<select id="pridialplan">
				<option value="national">National ISDN</option>
				<option value="unknown">unknown</option>
				<option value="private">Private ISDN</option>
				<option value="local">Local ISDN</option>
				<option value="international">International ISDN</option>
				<option value="dynamic">Dynamic</option>
			</select>
			</td>
		</tr>
		<tr><td align=right>prilocaldialplan:</td>
			<td>
			<select id="prilocaldialplan">
				<option value="national">National ISDN</option>
				<option value="unknown">unknown</option>
				<option value="private">Private ISDN</option>
				<option value="local">Local ISDN</option>
				<option value="international">International ISDN</option>
				<option value="dynamic">Dynamic</option>
			</select>
			</td>
		</tr>

		<tr><td align=right>internationalprefix:</td>
			<td>&nbsp;<input type='text' size=4 id='internationalprefix'></td>
		</tr>
		<tr><td align=right>nationalprefix:</td>
			<td>&nbsp;<input type='text' size=4 id='nationalprefix'></td>
		</tr>
		<tr><td align=right>localprefix</td>
			<td>&nbsp;<input type='text' size=4 id='localprefix'></td>
		</tr>
		<tr><td align=right>privateprefix</td>
			<td>&nbsp;<input type='text' size=4 id='privateprefix'></td>
		</tr>
		<tr><td align=right>unknownprefix</td>
			<td>&nbsp;<input type='text' size=4 id='unknownprefix'></td>
		</tr>
		<tr><td align=right>resetinterval</td>
			<td>&nbsp;<input type='text' size=4 id='resetinterval'></td>
		</tr>
		<tr><td align=right>overlapdial</td>
			<td><input type='checkbox' id='overlapdial'></td>
		</tr>
		<tr><td align=right>priindication</td>
			<td>
			<select id="priindication">
				<option value="outofband">outofband</option>
				<option value="inband">inband</option>
			</select>
			</td>
		</tr>
		<tr><td align=right>priexclusive</td>
			<td><input type='checkbox' id='priexclusive'></td>
		</tr>
		<tr><td align=right>pritimer</td>
			<td>&nbsp;<input type='text' size=4 id='pritimer' dfalt='> t200,1000'></td>
		</tr>
		<tr><td align=right>facilityenable</td>
			<td><input type='checkbox' id='facilityenable'></td>
		</tr>
		<tr><td align=right>Signalling method:</td>
			<td>
			<select id="signalling" style="font-family: Verdana, Arial, Helvetica, Sans-Serif;font-size: 11px;">
				<option value="fxo_ls">Loop Start</option>
				<option value="em">E & M</option>
				<option value="em_w">E & M Wink</option>
				<option value="featd">Feature Group D - fake</option>
				<option value="featdmf">Feature Group D - real MF (US)</option>
				<option value="featb">Feature Group B - MF (US)</option>
				<option value="fgccama"> Feature Group C-CAMA (DP DNIS, MF ANI)</option>					
				<option value="fgccamamf">Feature Group C-CAMA MF (MF DNIS, MF ANI)</option>
				<option value="fxs_ls">FXS (Loop Start)</option>
				<option value="fxs_gs">FXS (Ground Start)</option>
				<option value="fxs_ks">FXS (Kewl Start)</option>
				<option value="fxo_gs">FXO (Ground Start)</option>
				<option value="fxo_ks">FXO (Kewl Start)</option>
				<option value="pri_cpe">PRI signalling, CPE side</option>
				<option value="pri_net">PRI signalling, Network side</option>
				<option value="gr303fxoks_net">PGR-303 Signalling, FXO Loopstart, Network side</option>
				<option value="gr303fxsks_cpe">GR-303 Signalling, FXS Loopstart, CPE side</option>
				<option value="sf">SF (Inband Tone) Signalling</option>
				<option value="sf_w">SF Wink</option>
				<option value="sf_featd">SF Feature Group D, fake</option>
				<option value="sf_featdmf">SF Feature Group D, real - MF (US)</option>
				<option value="sf_featb">SF Feature Group B - MF (US))</option>
				<option value="e911">E911 (MF) style signalling</option>
				<option value="fxs_rx">Receive audio/COR on FXS kewlstart interface</option>
				<option value="fxs_tx">Transmit audio/PTT on FXS loopstart interface</option>
				<option value="fxo_rx">Receive audio/COR on FXO loopstart interface</option>
				<option value="fxo_tx">Transmit audio/PTT on FXO groundstart interface</option>
				<option value="em_rx">Receive audio/COR on E&M interface (1-way)</option>
				<option value="em_tx">Transmit audio/PTT on E&M interface (1-way)</option>
				<option value="em_txrx">Receive(COR) & Transmit(PTT) audio on E&M (2-way)</option>
				<option value="em_rxtx">Same as em_txrx</option>
				<option value="sf_rx">Receive audio/COR on an SF interface (1-way)</option>
				<option value="sf_tx">Transmit audio/PTT on an SF interface (1-way)</option>
				<option value="sf_txrx">Receive(COR) & Transmit(PTT) audio on an SF (2-way)</option>
				<option value="sf_rxtx">Same as sf_txrx</option>
			</select>
			</td>
		</tr>
		<tr><td align=right>Outbound Signalling method:</td>
			<td>
			<select id="outsignalling" style="font-family: Verdana, Arial, Helvetica, Sans-Serif;font-size: 11px;">
				<option value="fxo_ls">Loop Start</option>
				<option value="em">E & M</option>
				<option value="em_w">E & M Wink</option>
				<option value="featd">Feature Group D - fake</option>
				<option value="featdmf">Feature Group D - real MF (US)</option>
				<option value="featb">Feature Group B - MF (US)</option>
				<option value="fgccama"> Feature Group C-CAMA (DP DNIS, MF ANI)</option>					
				<option value="fgccamamf">Feature Group C-CAMA MF (MF DNIS, MF ANI)</option>
				<option value="fxs_ls">FXS (Loop Start)</option>
				<option value="fxs_gs">FXS (Ground Start)</option>
				<option value="fxs_ks">FXS (Kewl Start)</option>
				<option value="fxo_gs">FXO (Ground Start)</option>
				<option value="fxo_ks">FXO (Kewl Start)</option>
				<option value="pri_cpe">PRI signalling, CPE side</option>
				<option value="pri_net">PRI signalling, Network side</option>
				<option value="gr303fxoks_net">PGR-303 Signalling, FXO Loopstart, Network side</option>
				<option value="gr303fxsks_cpe">GR-303 Signalling, FXS Loopstart, CPE side</option>
				<option value="sf">SF (Inband Tone) Signalling</option>
				<option value="sf_w">SF Wink</option>
				<option value="sf_featd">SF Feature Group D, fake</option>
				<option value="sf_featdmf">SF Feature Group D, real - MF (US)</option>
				<option value="sf_featb">SF Feature Group B - MF (US))</option>
				<option value="e911">E911 (MF) style signalling</option>
				<option value="fxs_rx">Receive audio/COR on FXS kewlstart interface</option>
				<option value="fxs_tx">Transmit audio/PTT on FXS loopstart interface</option>
				<option value="fxo_rx">Receive audio/COR on FXO loopstart interface</option>
				<option value="fxo_tx">Transmit audio/PTT on FXO groundstart interface</option>
				<option value="em_rx">Receive audio/COR on E&M interface (1-way)</option>
				<option value="em_tx">Transmit audio/PTT on E&M interface (1-way)</option>
				<option value="em_txrx">Receive(COR) & Transmit(PTT) audio on E&M (2-way)</option>
				<option value="em_rxtx">Same as em_txrx</option>
				<option value="sf_rx">Receive audio/COR on an SF interface (1-way)</option>
				<option value="sf_tx">Transmit audio/PTT on an SF interface (1-way)</option>
				<option value="sf_txrx">Receive(COR) & Transmit(PTT) audio on an SF (2-way)</option>
				<option value="sf_rxtx">Same as sf_txrx</option>
			</select>
			</td>
		</tr>
		<tr><td align=right>defaultozz</td>
			<td>&nbsp;<input type='text' size=4 id='defaultozz'></td>
		</tr>
		<tr><td align=right>defaultcic</td>
			<td>&nbsp;<input type='text' size=4 id='defaultcic'></td>
		</tr>
		<tr><td align=right>Pre-wink time (ms) </td>
			<td>&nbsp;<input type='text' size=4 id='prewink' dfalt='50'></td>
		</tr>
		<tr><td align=right>Pre-flash time (ms) </td>
			<td>&nbsp;<input type='text' size=4 id='preflash' dfalt='50'></td>
		</tr>
		<tr><td align=right>Wink time (ms) </td>
			<td>&nbsp;<input type='text' size=4 id='wink' dfalt='50'></td>
		</tr>
		<tr><td align=right>Flash time (ms) </td>
			<td>&nbsp;<input type='text' size=4 id='flash' dfalt='750'></td>
		</tr>

		<tr><td align=right>Start time (ms) </td>
			<td>&nbsp;<input type='text' size=4 id='start' dfalt='1500'></td>
		</tr>
		<tr><td align=right>Receiver wink time (ms) </td>
			<td>&nbsp;<input type='text' size=4 id='rxwink' dfalt='300'></td>
		</tr>
		<tr><td align=right>Receiver flashtime (ms) </td>
			<td>&nbsp;<input type='text' size=4 id='rxflash' dfalt='1250'></td>
		</tr>
		<tr><td align=right>Debounce timing (ms) </td>
			<td>&nbsp;<input type='text' size=4 id='debounce' dfalt='600'></td>
		</tr>
		<tr><td align=right>toneduration</td>
			<td>&nbsp;<input type='text' size=4 id='toneduration'></td>
		</tr>
		<tr><td align=right>usedistinctiveringdetection</td>
			<td><input type='checkbox' id='usedistinctiveringdetection'></td>
		</tr>
		<tr><td align=right>distinctiveringaftercid</td>
			<td><input type='checkbox' id='distinctiveringaftercid'></td>
		</tr>
		<tr><td align=right>usecallerid</td>
			<td><input type='checkbox' id='usecallerid'></td>
		</tr>
		<tr><td align=right>cidsignalling:</td>
			<td>
			<select id="cidsignalling"  style="font-family: Verdana, Arial, Helvetica, Sans-Serif;font-size: 11px;">
				<option value="bell">bell202 as used in US</option>
				<option value="v23">v23 as used in the UK</option>
				<option value="v23_jp">v23 as used in Japan</option>
				<option value="dtmf">DTMF as in Denmark, Sweden and Netherlands</option>
				<option value="smdi">Use SMDI for callerid</option>
			</select>
			</td>
		</tr>
		<tr><td align=right>cidstart</td>
			<td>
			<select id="cidstart">
				<option value="ring">ring</option>
				<option value="polarity">polarity</option>
			</select>
			</td>
		</tr>
		<tr><td align=right>hidecallerid</td>
			<td><input type='checkbox' id='hidecallerid'></td>
		</tr>
		<tr><td align=right>callwaiting</td>
			<td><input type='checkbox' id='callwaiting'></td>
		</tr>
		<tr><td align=right>restrictcid</td>
			<td><input type='checkbox' id='restrictcid'></td>
		</tr>
		<tr><td align=right>usecallingpres</td>
			<td><input type='checkbox' id='usecallingpres'></td>
		</tr>
		<tr><td align=right>sendcalleridafter</td>
			<td>&nbsp;<input type='text' size=4 id='sendcalleridafter'></td>
		</tr>
		<tr><td align=right>callwaitingcallerid</td>
			<td><input type='checkbox' id='callwaitingcallerid'></td>
		</tr>
		<tr><td align=right>threewaycalling</td>
			<td><input type='checkbox' id='threewaycalling'></td>
		</tr>
		<tr><td align=right>transfer</td>
			<td><input type='checkbox' id='transfer'></td>
		</tr>
		<tr><td align=right>canpark</td>
			<td><input type='checkbox' id='canpark'></td>
		</tr>
		<tr><td align=right>cancallforward</td>
			<td><input type='checkbox' id='cancallforward'></td>
		</tr>
		<tr><td align=right>callreturn</td>
			<td><input type='checkbox' id='callreturn'></td>
		</tr>
		<tr><td align=right>echocancel</td>
			<td><input type='checkbox' id='echocancel'></td>
		</tr>
		<tr><td align=right>echocancelwhenbridged</td>
			<td><input type='checkbox' id='echocancelwhenbridged'></td>
		</tr>
		<tr><td align=right>echotraining</td>
			<td>&nbsp;<input type='text' size=4 id='echotraining' dfalt='800'>(yes/no/number)</td>
		</tr>
		<tr><td align=right>relaxdtmf</td>
			<td><input type='checkbox' id='relaxdtmf'></td>
		</tr>
		<tr><td align=right>rxgain</td>
			<td>&nbsp;<input type='text' size=4 id='rxgain'></td>
		</tr>
		<tr><td align=right>txgain</td>
			<td>&nbsp;<input type='text' size=4 id='txgain'></td>
		</tr>
		<tr><td align=right>group</td>
			<td>&nbsp;<input type='text' size=4 id='group'></td>
		</tr>
		<tr><td align=right>callgroup</td>
			<td>&nbsp;<input type='text' size=4 id='callgroup'></td>
		</tr>
		<tr><td align=right>pickupgroup</td>
			<td>&nbsp;<input type='text' size=4 id='pickupgroup'></td>
		</tr>
		<tr><td align=right>immediate</td>
			<td><input type='checkbox' id='immediate'></td>
		</tr>
		<tr><td align=right>transfertobusy</td>
			<td><input type='checkbox' id='transfertobusy'></td>
		</tr>
		<tr><td align=right>callerid</td>
			<td>&nbsp;<input type='text' size=4 id='callerid' dfalt='800'>(number or "asreceived")</td>
		</tr>
		<tr><td align=right>amaflags</td>
			<td>
			<select id="amaflags">
				<option value="default">default</option>
				<option value="omit">omit</option>
				<option value="billing">billing</option>
				<option value="documentation">documentation</option>
			</select>
			</td>
		</tr>
		<tr><td align=right>accountcode</td>
			<td>&nbsp;<input type='text' size=4 id='accountcode' dfalt='lss0101'></td>
		</tr>
		<tr><td align=right>adsi</td>
			<td><input type='checkbox' id='adsi'></td>
		</tr>
		<tr><td align=right>usesmdi</td>
			<td><input type='checkbox' id='usesmdi'></td>
		</tr>
		<tr><td align=right>smdiport</td>
			<td><input type='checkbox' id='smdiport'></td>
		</tr>
		<tr><td align=right>busydetect</td>
			<td><input type='checkbox' id='busydetect'></td>
		</tr>
		<tr><td align=right>busycount</td>
			<td>&nbsp;<input type='text' size=4 id='busycount'></td>
		</tr>
		<tr><td align=right>busypattern</td>
			<td>&nbsp;<input type='text' size=4 id='busypattern'></td>
		</tr>
		<tr><td align=right>answeronpolarityswitch</td>
			<td><input type='checkbox' id='answeronpolarityswitch'></td>
		</tr>
		<tr><td align=right>hanguponpolarityswitch</td>
			<td><input type='checkbox' id='hanguponpolarityswitch'></td>
		</tr>
		<tr><td align=right>callprogress</td>
			<td><input type='checkbox' id='callprogress'></td>
		</tr>
		<tr><td align=right>progzone</td>
			<td>&nbsp;<input type='text' size=3 id='progzone' dfalt='us'></td>
		</tr>
		<tr><td align=right>ringtimeout</td>
			<td>&nbsp;<input type='text' size=3 id='ringtimeout'></td>
		</tr>
		<tr><td align=right>pulsedial</td>
			<td><input type='checkbox' id='pulsedial'></td>
		</tr>
		<tr><td align=right>faxdetect</td>
			<td>
			<select id="faxdetect">
				<option value="no">no</option>
				<option value="both">both</option>
				<option value="incoming">incoming</option>
				<option value="outgoing">outgoing</option>
			</select>
			</td>
		</tr>
		<tr><td align=right>mohinterpret</td>
			<td>&nbsp;<input type='text' size=3 id='mohinterpret'></td>
		</tr>
		<tr><td align=right>mohsuggest</td>
			<td>&nbsp;<input type='text' size=3 id='mohsuggest'></td>
		</tr>
		<tr><td align=right>idledial</td>
			<td>&nbsp;<input type='text' size=3 id='idledial'></td>
		</tr>
		<tr><td align=right>idleext</td>
			<td>&nbsp;<input type='text' size=3 id='idleext'></td>
		</tr>
		<tr><td align=right>minunused</td>
			<td>&nbsp;<input type='text' size=3 id='minunused'></td>
		</tr>
		<tr><td align=right>minidle</td>
			<td>&nbsp;<input type='text' size=3 id='minidle'></td>
		</tr>
		<tr><td align=right>jitterbuffers</td>
			<td>&nbsp;<input type='text' size=3 id='jitterbuffers' dfalt='4'></td>
		</tr>
		<tr><td align=right>jbenable</td>
			<td><input type='checkbox' id='jbenable'></td>
		</tr>
		<tr><td align=right>jbmaxsize</td>
			<td>&nbsp;<input type='text' size=3 id='jbmaxsize' dfalt='4'></td>
		</tr>
		<tr><td align=right>jbresyncthreshold</td>
			<td>&nbsp;<input type='text' size=3 id='jbresyncthreshold' dfalt='1000'></td>
		</tr>
		<tr><td align=right>jbimpl</td>
			<td><select id="jbimpl">
				<option value="fixed">fixed</option>
				<option value="adaptive">adaptive</option>
			</select>
			</td>
		</tr>
		<tr><td align=right>jblog</td>
			<td><input type='checkbox' id='jblog'></td>
		</tr>
		<tr><td align=right>cadence</td>
			<td>&nbsp;<input type='text' id='cadence'></td>
		</tr>
		</table>
	</div>

	<table align="center">
	<tr><td colspan=2 align=center>
		<input style='width:80' type='button' id='save' value='Save'>&nbsp;<input style='width:80' type='button' id='cancel' value='Cancel'>
		</td>
	</tr>
	</table>
</td>
</tr>
</table>
</div>
<div style='visibility:hidden;overflow:hidden;width:0px;height:0px'>
<select  size="5" id="hiddenfield" style="width:220px">
</select>
</div>
</body>
